<div class="content">

<!-- /////////////////// BEACH PHOTO CAROUSEL //////////////////// -->

  <div class="show-banner">

    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <%= cl_image_tag @ride.beach.photo.url, alt: "alttext" %>
        </div>
        <div class="carousel-item">
          <img class="d-block" src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1053&q=80" alt="Picture 2">
        </div>
        <div class="carousel-item">
          <%= cl_image_tag @ride.beach.photo.url, alt: "alttext" %>
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

</div>

<!-- /////////////////// BEACH INFO LAYOUT //////////////////// -->

<div class="content">

      <div class="show-beach-info-container">

        <div class="show-beach-card">
          <h2> <%= @ride.beach.name %> </h2>
          <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet, consectetur adipiscing elit." </p>
          <h4>Available services: </h4>
            <div class="show-beach-icons">
              <i class="fas fa-parking" id="show-beach-icon-on"></i>
              <i class="far fa-life-ring" id="show-beach-icon-on"></i>
              <i class="fas fa-shower" id="show-beach-icon-off"></i>
              <i class="fas fa-store" id="show-beach-icon-on"></i>
              <i class="fas fa-utensils" id="show-beach-icon-off"></i>
              <i class="fas fa-mug-hot" id="show-beach-icon-off"></i>
            </div>
        </div>

        <div class="show-beach-card">

          <h2> Reviews </h2>

          <div class="show-beach-card-review">
            <img src="https://c-sf.smule.com/sf/s57/arr/66/7b/6e9f1098-7c27-4544-b459-f90d306a479f.jpg" class="avatar-medium-bordered">
            <div class="show-beach-card-review-content">
              <h4><strong>Brice</strong> from Nice, France</h4>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore. Ut enim ad minim veniam.</p>
            </div>
          </div>

          <div class="show-beach-card-review">
            <img src="https://d3fic6bj5pagcw.cloudfront.net/media/catalog/category/stephanie-gilmore-profile.png" class="avatar-medium-bordered">
            <div class="show-beach-card-review-content">
              <h4><strong>Steph</strong> from Byron Bay, Australia</h4>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore. Ut enim ad minim veniam.</p>
            </div>
          </div>

          <div class="show-beach-card-review">
            <img src="https://uploads.beam.pro/avatar/ct1vj8cq-7647714.jpg" class="avatar-medium-bordered">
            <div class="show-beach-card-review-content">
              <h4><strong>Earl</strong> from San Diego, US</h4>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore. Ut enim ad minim veniam.</p>
            </div>
          </div>

        </div>

        <div class="show-beach-card">

          <h2> Word from a local expert in <%= @ride.beach.city %> </h2>

            <div class="show-beach-card-review">
              <img src="https://d3g9pb5nvr3u7.cloudfront.net/authors/5644e7c8d120bd796c370562/703519106/256.jpg" class="avatar-large" />
              <div class="show-beach-card-review-content">
                <h4><strong>Simo</strong> from <%= @ride.beach.city %>, Morocco</h4>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
              </div>
            </div>

        </div>

        <div class="show-beach-card">
          <div class="show-beach-card-review">
            <img src="https://image.flaticon.com/icons/png/512/2045/2045847.png" style="width:80px">
            <div class="show-beach-card-review-content">
              <h2> Swell </h2>
              <h5> height: <%= @ride[:swell_height].round(2) %>m </h5>
              <h5> period: <%= @ride[:swell_period].round(2) %>s </h5>
              <h5> direction: <%= @ride[:swell_direction].round(2) %>Â° </h5>
            </div>
          </div>
        </div>

        <div class="show-beach-card">
          <div class="show-beach-card-review">
            <img src="https://image.flaticon.com/icons/png/512/2045/2045893.png" style="width:80px">
            <div class="show-beach-card-review-content">
              <h2> Wind </h2>
              <h5> speed: <%= @ride[:wind_speed].round(2) %>km/h </h5>
              <h5> gust: <%= @ride[:wind_gust].round(2) %>km/h </h5>
              <h5> direction: <%= @ride[:wind_direction].round(2) %>Â° </h5>
            </div>
          </div>
        </div>

        <div class="show-beach-card">
          <div style="width: 100%">
            <div  class="pl-2" style="overflow: scroll;height: 80px;">
              <% @ride.beach.reviews.each do |review| %>
                <p class="overflow-hidden">
                  <strong><%= review.user.username %>:</strong>
                    <%= review.description %>
                    <%= review.rating %>
                  </p>
                <% end %>
            </div>
            <div>
              <%= simple_form_for [@ride, Review.new] do |f|%>
                <%= f.input :description,
                class: "form-control block",
                placeholder: "write a review",
                label: false
                %>
                <%= f.input :rating,
                class: "form-control block",
                placeholder: "rate!",
                label: false
                %>
                <div id="search-btn">
                <%= f.submit class: "btn" %>
                </div>
              <% end %>
            </div>
          </div>
        </div>

      </div>


<!-- /////////////////// RIDE LAYOUT //////////////////// -->

      <div class="show-ride-info-container">

        <img src="https://images.unsplash.com/photo-1526485641275-3b11a42acd44?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80">

        <% if !user_signed_in? || current_user.rides.where(id: @ride.id).blank? %>

            <div>
              <%= link_to ride_userrides_path(@ride), method: :post do  %>
                <button class="btn btn-warning" id="join-btn">JOIN</button>
              <% end %>
            </div>

        <% else %>

          <div id="show-info-ride-joiners">
            <div>
              <h3>You already joined this ride.
              <%= link_to ride_userrides_path(@ride), method: :post do  %>
                <button class="btn btn-warning" >CANCEL</button>
              <% end %></h3>
            </div>
            <h4> <strong> <%= @ride.users.count%> </strong> riders are also going :</h4>
            <% @ride.users.each do |user| %>
              <ul>
                <li>
                  <p class="ml-3"><i class="fas fa-swimmer mr-3"></i><%= user.username %> ðŸ¤™</p>
                </li>
              </ul>
            <% end %>
          </div>


    <!-- /////////////////// CHAT ROOM //////////////////// -->

          <div class="show-beach-card">
              <div  class="pl-2" style="overflow: scroll;height: 80px;">
                <% @ride.messages.each do |message| %>
                  <p class="overflow-hidden">
                    <strong><%= message.user.username %>:</strong>
                    <%= message.message %>
                  </p>
                <% end %>
              </div>
              <%= simple_form_for [@ride, Message.new] do |f|%>
                <%= f.input :message,
                  class: "form-control block",
                  placeholder: "send a message",
                  label: false
                %>
               <%= f.submit class: "btn btn-warning btn-block" %>
              <% end %>

          </div>
        <% end %>

      </div>

</div>

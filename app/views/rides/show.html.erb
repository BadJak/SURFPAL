<div class="show-banner-container">

  <div class="show-banner">

    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img class="d-block" src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1053&q=80" alt="Picture 1">
        </div>
        <div class="carousel-item">
          <img class="d-block" src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1053&q=80" alt="Picture 2">
        </div>
        <div class="carousel-item">
          <img class="d-block" src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1053&q=80" alt="Picture 3">
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
    <div>
      <div class="show-banner-info">
        <h2> <%= @ride.beach.name %> </h2>
        <h2> Scoring: <strong><%= @ride.scoring %> </strong></h2>
      </div>
    </div>
  </div>

</div>

<div class="show-info-container">

  <div class="show-info-beach">

    <div class="show-beach-card">
      <img src="https://image.flaticon.com/icons/png/512/2045/2045847.png" style="width:80px">
      <div class="show-beach-card-info">
        <h2> Wave height </h2>
        <h2> <%= @ride[:wave_height].round(2) %>m </h2>
      </div>
    </div>

    <div class="show-beach-card">
      <img src="https://image.flaticon.com/icons/png/512/2045/2045847.png" style="width:80px">
      <div class="show-beach-card-info">
        <h2> Swell period </h2>
        <h2> <%= @ride[:swell_period].round(2) %>s </h2>
      </div>
    </div>

    <div class="show-beach-card">
      <img src="https://image.flaticon.com/icons/png/512/2045/2045847.png" style="width:80px">
      <div class="show-beach-card-info">
        <h2> Swell direction </h2>
        <h2> <%= @ride[:swell_direction].round(2) %>Â° </h2>
      </div>
    </div>

    <div class="show-beach-card">
      <img src="https://image.flaticon.com/icons/png/512/2045/2045893.png" style="width:80px">
      <div class="show-beach-card-info">
        <h2> Wind speed </h2>
        <h2> <%= @ride[:wind_speed].round(2) %>km/h </h2>
      </div>
    </div>

    <div class="show-beach-card">
      <img src="https://image.flaticon.com/icons/png/512/2045/2045893.png" style="width:80px">
      <div class="show-beach-card-info">
        <h2> Wind gust </h2>
        <h2> <%= @ride[:wind_gust].round(2) %>km/h </h2>
      </div>
    </div>

    <div class="show-beach-card">
      <img src="https://image.flaticon.com/icons/png/512/2045/2045893.png" style="width:80px">
      <div class="show-beach-card-info">
        <h2> Wind direction </h2>
        <h2> <%= @ride[:wind_direction].round(2) %>Â° </h2>
      </div>
    </div>

  </div>

  <div class="show-info-ride">
    <img src="https://images.unsplash.com/photo-1526485641275-3b11a42acd44?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80">
    <% if !user_signed_in? || current_user.rides.where(id: @ride.id).blank? %>
        <div>
          <%= link_to ride_userrides_path(@ride), method: :post do  %>
            <button class="btn btn-warning" id="join-btn">JOIN</button>
          <% end %>
        </div>
    <% else %>
      <div id="show-info-ride-joiners">
        <div>
          <h3>You already joined this ride.
          <%= link_to ride_userrides_path(@ride), method: :post do  %>
            <button class="btn btn-warning" >CANCEL</button>
          <% end %></h3>
        </div>
        <h4> <strong> <%= @ride.users.count%> </strong> riders are also going :</h4>
        <% @ride.users.each do |user| %>
          <ul>
            <li>
              <p class="ml-3"><i class="fas fa-swimmer mr-3"></i><%= user.username %> ðŸ¤™</p>
            </li>
          </ul>
        <% end %>
      </div>



      <div class="show-card">

        <div class="show-card-info">
          <div style="width: 100%">
            <div  class="pl-2" style="overflow: scroll;height: 80px;">
              <% @ride.messages.each do |message| %>
              <p class="overflow-hidden">
                <strong><%= message.user.username %>:</strong>
                <%= message.message %>
              </p>
              <% end %>
            </div>
            <%= simple_form_for [@ride, Message.new] do |f|%>
             <%= f.input :message,
               class: "form-control block",
               placeholder: "send a message",
               label: false
             %>
             <%= f.submit class: "btn btn-warning btn-block" %>
            <% end %>
          </div>
        </div>
      </div>
<!-- /////////////////// Review card //////////////////// -->
     <div class="show-card">

       <div class="show-card-info">
         <div style="width: 100%">
           <div  class="pl-2" style="overflow: scroll;height: 80px;">
             <% @ride.beach.reviews.each do |review| %>
                   <p class="overflow-hidden">
                     <strong><%= review.user.username %>:</strong>
                     <%= review.description %>
                     <%= review.rating %>
                   </p>
             <% end %>
           </div>
             <%= simple_form_for [@ride, Review.new] do |f|%>
              <%= f.input :description,
                class: "form-control block",
                placeholder: "write a review",
                label: false
              %>
              <%= f.input :rating,
                class: "form-control block",
                placeholder: "rate!",
                label: false
              %>
              <%= f.submit class: "btn btn-warning btn-block" %>
             <% end %>
         </div>
       </div>
     </div>

    <% end %>
  </div>

</div>
